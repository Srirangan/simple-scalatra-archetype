<!DOCTYPE html>

<% import org.apache.shiro.SecurityUtils %>
<% import org.scalatra.scalate.ScalatraRenderContext %>

<%@ var body: String %>
<%@ var title: String = "Scalatra Shiro" %>

<% var flash = context.asInstanceOf[ScalatraRenderContext].flash %>
<% var isAuthenticated = SecurityUtils.getSubject().isAuthenticated() %>

<html>
<head>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">

</head>

<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
<div class="container">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Scalatra shiro Demo</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
            <li class="active"><a href="/src/main/webapp">Home</a></li>
            <li>
                #if(isAuthenticated == true)
                    <a href="/logout">Logout</a>
                #else
                    <a href="/login">Login</a>
                #end
            </li>

        </ul>
    </div><!--/.nav-collapse -->
</div>
</nav>


    <div class="container theme-showcase" role="main">

<div style="margin-top: 256px;">
    #if(flash.get("success") != None)
        <div class="alert alert-success" role="alert">${flash.get("success")}</div>
    #end
    #if(flash.get("error") != None )
        <div class="alert alert-danger" role="alert">${flash.get("error")}</div>
    #end
     ${unescape(body)}
</div>

    </div>
</body>
</html>